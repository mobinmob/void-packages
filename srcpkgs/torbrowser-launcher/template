# Template file for 'torbrowser-launcher'
pkgname=torbrowser-launcher
version=0.3.2
revision=5
archs="i686 x86_64" # limited by Tor Browser itself
build_style=python3-module
hostmakedepends="gettext python3-setuptools"
depends="python3-PyQt5 python3-gpg python3-requests python3-pysocks gnupg2 tor dbus-glib"
short_desc="Securely download, verify and run Tor Browser"
maintainer="Daniel Ey√üer <daniel.eysser@gmail.com>"
license="MIT"
homepage="https://github.com/micahflee/torbrowser-launcher"
changelog="https://raw.githubusercontent.com/micahflee/torbrowser-launcher/master/CHANGELOG.md"
distfiles="https://github.com/micahflee/torbrowser-launcher/archive/v${version}.tar.gz
 https://github.com/micahflee/torbrowser-launcher/raw/24811754d600e514ea94cf86f4d225bd9ca05f2a/share/torbrowser-launcher/tor-browser-developers.asc"
checksum="25ad4b0c70579628bf18f4cdcd18ac303fe4f7f1c590cc48df2a87651c92991c
 1d06596847ef46a54005cd5cc9c5246bd134cb3d42d27ac045105b6aaa9f3475"
skip_extraction=tor-browser-developers.asc

pre_configure() {
	cp "${XBPS_SRCDISTDIR}/${pkgname}-${version}/tor-browser-developers.asc" share/torbrowser-launcher/
}

post_install() {
	vlicense LICENSE
	rm ${DESTDIR}/usr/share/locale/torbrowser-launcher.mo # installed twice
}
