# Template file for 'foomatic-db-engine'
pkgname=foomatic-db-engine
version=20200306
revision=1
wrksrc="${pkgname}-4.0-${version}"
build_style=gnu-configure

configure_args="--sbindir=/usr/bin --libdir=/usr/lib PERL_INSTALLDIRS=vendor"
hostmakedepends="wget perl foomatic-db cups-filters ghostscript cups libxml2-devel"
makedepends="libxml2-devel cups-devel"
depends="${hostmakedepends/libxml2-devel/}"
short_desc="OpenPrinting printer support - programs"
maintainer="Orphaned <orphan@voidlinux.org>"
license="GPL-2.0-only"
homepage="https://www.openprinting.org/"
distfiles="https://www.openprinting.org/download/foomatic/$pkgname-4.0-$version.tar.gz"
checksum=cb9d88831135e15227dad2d3e02dddaec0f72266952652b365d9fb9f567b3872

post_configure() {
	# Compiling and linking in one step requires $(LDFLAGS)
	sed -i Makefile -e's;$(CC) $(CFLAGS);& $(LDFLAGS);'
}

post_install() {
	vdoc USAGE
	vdoc README
}
